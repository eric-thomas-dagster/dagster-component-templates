{
  "type": "dagster_component_templates.ConversationMemoryComponent",
  "name": "Conversation Memory",
  "category": "ai",
  "description": "Store and retrieve conversation history for AI agents and chatbots",
  "icon": "MessageSquare",
  "x-dagster-io": {
    "description": "This component receives message data from upstream assets via IO managers and outputs complete conversation history",
    "inputs": {
      "upstream_messages": {
        "description": "Message data from upstream assets (user input components, LLM executors, message queues, etc.)",
        "expected_format": "Dict with 'user_message'/'assistant_message' keys, 'messages' list, or plain string (treated as user message)",
        "required": true,
        "compatible_components": [
          "UserInputComponent",
          "LLMPromptExecutorComponent",
          "MessageQueueConsumerComponent",
          "TextFileReaderComponent",
          "RestApiFetcherComponent"
        ]
      }
    },
    "outputs": {
      "conversation_memory": {
        "description": "Complete conversation memory with full message history including system prompt",
        "format": "Dict with 'messages' list containing role-content pairs",
        "compatible_components": [
          "LLMPromptExecutorComponent",
          "LLMChainExecutorComponent",
          "TextFileWriterComponent",
          "DatabaseInsertComponent"
        ]
      }
    }
  },
  "attributes": {
    "asset_name": {
      "type": "string",
      "default": "conversation_state",
      "required": true
    },
    "memory_file": {
      "type": "string",
      "default": "./conversation_memory.json",
      "required": true
    },
    "max_messages": {
      "type": "integer",
      "default": 10,
      "required": false
    },
    "include_system_prompt": {
      "type": "boolean",
      "default": true,
      "required": false
    },
    "system_prompt": {
      "type": "string",
      "default": "You are a helpful assistant.",
      "required": false
    },
    "description": {
      "type": "string",
      "required": false
    },
    "group_name": {
      "type": "string",
      "required": false
    }
  },
  "tags": [
    "ai",
    "llm",
    "nlp"
  ]
}