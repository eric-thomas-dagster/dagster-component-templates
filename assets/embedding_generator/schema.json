{
  "type": "dagster_component_templates.EmbeddingGeneratorComponent",
  "name": "Embedding Generator",
  "category": "ai",
  "description": "Generate vector embeddings for text using OpenAI, Anthropic, or HuggingFace models",
  "icon": "Sparkles",
  "x-dagster-io": {
    "inputs": {
      "type": "mixed",
      "accepts": [
        "text",
        "dataframe"
      ],
      "required": true,
      "description": "Accepts text or DataFrames from upstream assets. Compatible types: string (single text), list of strings (multiple chunks), or DataFrame with text column (column name specified by text_column parameter, default: 'text')"
    },
    "outputs": {
      "type": "mixed",
      "conditional": true,
      "condition": "output_format parameter",
      "description": "Output type depends on output_format: 'array' produces NumPy array, 'list' produces Python list, 'dataframe' produces Pandas DataFrame with 'embedding' column and optionally 'text' column"
    }
  },
  "attributes": {
    "asset_name": {
      "type": "string",
      "label": "Asset Name",
      "description": "Name of the asset",
      "default": "text_embeddings",
      "required": true
    },
    "provider": {
      "type": "string",
      "label": "Provider",
      "description": "Embedding provider",
      "default": "openai",
      "enum": [
        "openai",
        "sentence_transformers",
        "cohere",
        "huggingface"
      ],
      "required": true
    },
    "model": {
      "type": "string",
      "label": "Model",
      "description": "Model name",
      "default": "text-embedding-3-small",
      "required": true
    },
    "text_column": {
      "type": "string",
      "label": "Text Column",
      "description": "Column with text (for DataFrame)",
      "default": "text",
      "required": false
    },
    "batch_size": {
      "type": "integer",
      "label": "Batch Size",
      "description": "Batch size for processing",
      "default": 100,
      "minimum": 1,
      "required": false
    },
    "api_key": {
      "type": "string",
      "label": "API Key",
      "description": "API key (use ${VAR_NAME} for environment variable)",
      "default": "${OPENAI_API_KEY}",
      "required": false
    },
    "normalize_embeddings": {
      "type": "boolean",
      "label": "Normalize",
      "description": "Normalize to unit length",
      "default": true,
      "required": false
    },
    "output_format": {
      "type": "string",
      "label": "Output Format",
      "description": "Format of output",
      "default": "array",
      "enum": [
        "array",
        "list",
        "dataframe"
      ],
      "required": false
    },
    "add_text_to_output": {
      "type": "boolean",
      "label": "Add Text to Output",
      "description": "Include text in output",
      "default": true,
      "required": false
    },
    "save_to_file": {
      "type": "boolean",
      "label": "Save to File",
      "description": "Save embeddings",
      "default": false,
      "required": false
    },
    "output_path": {
      "type": "string",
      "label": "Output Path",
      "description": "Path to save embeddings",
      "required": false
    },
    "description": {
      "type": "string",
      "label": "Description",
      "description": "Asset description",
      "required": false
    },
    "group_name": {
      "type": "string",
      "label": "Group Name",
      "description": "Asset group",
      "required": false
    },
    "upstream_asset_keys": {
      "type": "string",
      "label": "Upstream Asset Keys",
      "description": "Comma-separated list of upstream asset keys to load data from (automatically set by custom lineage)",
      "default": "",
      "required": false
    }
  },
  "tags": [
    "ai",
    "llm",
    "nlp"
  ]
}