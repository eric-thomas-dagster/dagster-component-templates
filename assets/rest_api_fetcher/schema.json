{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "x-dagster-io": {
    "outputs": {
      "type": "dataframe",
      "conditional": true,
      "condition": "output_format == 'dataframe'",
      "description": "Produces DataFrame when output_format is set to 'dataframe'"
    }
  },
  "properties": {
    "asset_name": {
      "type": "string",
      "title": "Asset Name",
      "description": "Name of the asset",
      "default": "api_data"
    },
    "api_url": {
      "type": "string",
      "title": "API URL",
      "description": "URL of the API endpoint to fetch data from",
      "default": "https://api.example.com/data"
    },
    "method": {
      "type": "string",
      "title": "HTTP Method",
      "description": "HTTP method to use",
      "enum": ["GET", "POST", "PUT", "DELETE", "PATCH"],
      "default": "GET"
    },
    "headers": {
      "type": "string",
      "title": "HTTP Headers",
      "description": "JSON string of HTTP headers",
      "default": "{}"
    },
    "params": {
      "type": "string",
      "title": "Query Parameters",
      "description": "JSON string of query parameters",
      "default": "{}"
    },
    "body": {
      "type": "string",
      "title": "Request Body",
      "description": "JSON string of request body for POST/PUT requests"
    },
    "auth_type": {
      "type": "string",
      "title": "Authentication Type",
      "description": "Type of authentication",
      "enum": ["", "basic", "bearer"],
      "default": ""
    },
    "auth_username": {
      "type": "string",
      "title": "Auth Username",
      "description": "Username for basic authentication"
    },
    "auth_password": {
      "type": "string",
      "title": "Auth Password",
      "description": "Password for basic authentication"
    },
    "auth_token": {
      "type": "string",
      "title": "Bearer Token",
      "description": "Bearer token for authentication"
    },
    "timeout": {
      "type": "integer",
      "title": "Timeout (seconds)",
      "description": "Request timeout in seconds",
      "default": 30,
      "minimum": 1
    },
    "output_format": {
      "type": "string",
      "title": "Output Format",
      "description": "Format of the output data",
      "enum": ["json", "dataframe", "csv", "parquet"],
      "default": "json"
    },
    "json_path": {
      "type": "string",
      "title": "JSON Path",
      "description": "JSON path to extract data from response (e.g., 'data.results')"
    },
    "cache_results": {
      "type": "boolean",
      "title": "Cache Results",
      "description": "Whether to cache results locally",
      "default": false
    },
    "cache_path": {
      "type": "string",
      "title": "Cache Path",
      "description": "Path to cache file"
    },
    "verify_ssl": {
      "type": "boolean",
      "title": "Verify SSL",
      "description": "Whether to verify SSL certificates",
      "default": true
    },
    "description": {
      "type": "string",
      "title": "Description",
      "description": "Asset description"
    },
    "group_name": {
      "type": "string",
      "title": "Group Name",
      "description": "Asset group for organization"
    }
  },
  "required": ["asset_name", "api_url"]
}
